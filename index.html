<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NASA APOD API – Portfolio Project</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #1e1e2f;
    color: #e0e0e0;
    margin: 0;
    padding: 0;
  }
  header {
    background-color: #4b0082;
    padding: 20px;
    text-align: center;
  }
  header h1 {
    margin: 0;
    color: #fff;
  }
  .container {
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }
  h2 {
    color: #ffcc00;
  }
  .tabs {
    display: flex;
    margin-bottom: 10px;
    cursor: pointer;
  }
  .tab {
    padding: 10px 20px;
    background-color: #2c2c3f;
    border: 1px solid #4b0082;
    margin-right: 2px;
    border-radius: 5px 5px 0 0;
  }
  .tab.active {
    background-color: #4b0082;
    font-weight: bold;
  }
  .tab-content {
    border: 1px solid #4b0082;
    padding: 15px;
    border-radius: 0 5px 5px 5px;
    display: none;
    background-color: #2c2c3f;
  }
  .tab-content.active {
    display: block;
  }
  pre {
    background-color: #1e1e2f;
    color: #00ffcc;
    padding: 10px;
    overflow-x: auto;
  }
  img {
    max-width: 100%;
    margin-top: 10px;
    border: 2px solid #4b0082;
    border-radius: 5px;
  }
  .note {
    background-color: #3a3a55;
    padding: 10px;
    border-left: 4px solid #ffcc00;
    margin: 10px 0;
  }
  .random-apod {
    text-align: center;
    margin-top: 20px;
  }
  .random-apod img {
    max-width: 80%;
    margin-top: 10px;
  }
  .random-apod button {
    padding: 10px 20px;
    background-color: #4b0082;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }
  .random-apod button:hover {
    background-color: #6a00c3;
  }
</style>
</head>
<body>

<header>
  <h1>NASA Astronomy Picture of the Day (APOD) API</h1>
</header>

<div class="container">

  <h2>Project Overview</h2>
  <p>This project demonstrates how to use NASA's APOD API to fetch random astronomy pictures. 
  It includes instructions for Windows 11 users using PowerShell, Python, and JavaScript. 
  This portfolio piece showcases my technical writing skills, including clear step-by-step 
  instructions, sample code, and visual outputs.</p>

  <h2>Setup Instructions</h2>
  <p>1. NASA API Key: &lt;Your API Key Here&gt;</p>
  <p>2. Prerequisites:</p>
  <ul>
    <li>Windows 11</li>
    <li>PowerShell (preinstalled)</li>
    <li>Python 3 (optional)</li>
    <li>Web browser for HTML/JS example</li>
  </ul>

  <h2>Usage Examples</h2>
  <div class="tabs">
    <div class="tab active" data-tab="powershell">PowerShell</div>
    <div class="tab" data-tab="python">Python</div>
    <div class="tab" data-tab="javascript">JavaScript</div>
  </div>

  <div class="tab-content active" id="powershell">
    <h3>PowerShell Example</h3>
    <p>Fetch today’s APOD and display JSON:</p>
    <pre>
$response = Invoke-RestMethod -Uri "https://api.nasa.gov/planetary/apod?count=1&api_key=<Your API Key Here>"
$response | ConvertTo-Json -Depth 5

# Download the random image
Invoke-WebRequest -Uri $response[0].url -OutFile "$env:USERPROFILE\Desktop\NASA_APOD_Random.jpg"
    </pre>
  </div>

  <div class="tab-content" id="python">
    <h3>Python Example</h3>
    <pre>
import requests

api_key = "&lt;Your API Key Here&gt;"
url = f"https://api.nasa.gov/planetary/apod?count=1&api_key={api_key}"

response = requests.get(url).json()

print("Title:", response[0]["title"])
print("Date:", response[0]["date"])
print("Explanation:", response[0]["explanation"])
print("Image URL:", response[0]["url"])
    </pre>
  </div>

  <div class="tab-content" id="javascript">
    <h3>JavaScript / Web Example</h3>
    <p>Create a simple webpage to display APOD:</p>
    <pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;&lt;/head&gt;
&lt;body&gt;
&lt;script&gt;
const apiKey = "&lt;Your API Key Here&gt;";
fetch(`https://api.nasa.gov/planetary/apod?api_key=${apiKey}`)
  .then(res =&gt; res.json())
  .then(data =&gt; {
    document.body.innerHTML = `
      &lt;h2&gt;${data.title} (${data.date})&lt;/h2&gt;
      &lt;img src="${data.url}" alt="NASA APOD" width="600"&gt;
      &lt;p&gt;${data.explanation}&lt;/p&gt;
    `;
  });
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
    </pre>
  </div>

  <div class="random-apod">
    <h2>Live Random Image Viewer</h2>
    <p>Click below to load a random NASA Astronomy Picture of the Day.</p>
    <button id="loadRandom">Get Random NASA Image</button>
    <h3 id="apodTitle"></h3>
    <img id="apodImage" src="images/placeholder.jpg" alt="Random NASA APOD">
    <p id="apodDesc"></p>
  </div>

</div>

<script>
  // Tab functionality
  const tabs = document.querySelectorAll('.tab');
  const contents = document.querySelectorAll('.tab-content');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      contents.forEach(c => c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });

  // Random APOD viewer using local JSON
  const btn = document.getElementById("loadRandom");
  const imgElement = document.getElementById("apodImage");
  const titleElement = document.getElementById("apodTitle");
  const descElement = document.getElementById("apodDesc");

  async function getRandomImage() {
    try {
      btn.disabled = true;
      btn.textContent = "Loading...";

      const response = await fetch("data/apod-data.json");
      const data = await response.json();

      const randomApod = data[Math.floor(Math.random() * data.length)];

      imgElement.src = randomApod.url;
      titleElement.textContent = randomApod.title;
      descElement.textContent = randomApod.explanation;

    } catch (error) {
      console.error("Error loading local data:", error);
      titleElement.textContent = "Error loading image";
      descElement.textContent = "";
      imgElement.src = "images/placeholder.jpg";
    } finally {
      btn.disabled = false;
      btn.textContent = "Get Random NASA Image";
    }
  }

  btn.addEventListener("click", getRandomImage);

  // Load one random image on initial page load
  getRandomImage();
</script>

</body>
</html>
